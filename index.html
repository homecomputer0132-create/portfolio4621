 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta property="og:image" content="https://drive.google.com/file/d/16ttHN898RKZGgQnhlzcatxUmMCotjihl/view?usp=drivesdk">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MRIGANGKA - Enhanced Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --dark: #2d3436;
            --light: #f5f6fa;
            --accent: #fd79a8;
            --text: #2d3436;
            --bg: #f5f6fa;
            --glow-color: rgba(108, 92, 231, 0.7);
        }
        
        [data-theme="dark"] {
            --primary: #a29bfe;
            --secondary: #6c5ce7;
            --dark: #f5f6fa;
            --light: #2d3436;
            --accent: #e84393;
            --text: #f5f6fa;
            --bg: #2d3436;
            --glow-color: rgba(162, 155, 254, 0.7);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background-color 0.5s, color 0.5s, transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--bg);
            color: var(--text);
            overflow-x: hidden;
            perspective: 1000px;
        }
        
        .container {
            min-height: 100vh;
            position: relative;
            overflow: hidden;
        }
        
        /* Entry Animation */
        .entry-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--bg);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            transition: all 1.5s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        
        .entry-screen.hidden {
            opacity: 0;
            pointer-events: none;
            transform: scale(1.2);
        }
        
        .entry-title {
            font-size: 8vw;
            font-weight: 800;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(108, 92, 231, 0.3);
            cursor: pointer;
            transition: all 0.5s;
            animation: pulse 2s infinite alternate, float 6s ease-in-out infinite;
            position: relative;
            z-index: 2;
        }
        
        .entry-title::after {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            z-index: -1;
            border-radius: 20px;
            opacity: 0;
            filter: blur(20px);
            transition: opacity 0.5s;
        }
        
        .entry-title:hover::after {
            opacity: 0.5;
        }
        
        .enter-btn {
            margin-top: 2rem;
            padding: 1rem 3rem;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.5s;
            box-shadow: 0 10px 20px rgba(108, 92, 231, 0.3);
            position: relative;
            overflow: hidden;
            z-index: 1;
        }
        
        .enter-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: all 0.5s;
            z-index: -1;
        }
        
        .enter-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(108, 92, 231, 0.5);
        }
        
        .enter-btn:hover::before {
            left: 100%;
        }
        
        /* Main Content */
        .main-content {
            opacity: 0;
            transform: scale(0.95);
            transition: all 1.5s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        
        .main-content.visible {
            opacity: 1;
            transform: scale(1);
        }
        
        /* Header */
        header {
            padding: 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 100;
        }
        
        .logo {
            font-size: 3rem;
            font-weight: 800;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(108, 92, 231, 0.3);
            cursor: pointer;
            transition: all 0.5s;
            position: relative;
        }
        
        .logo::after {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            z-index: -1;
            border-radius: 10px;
            opacity: 0;
            filter: blur(15px);
            transition: opacity 0.5s;
        }
        
        .logo:hover::after {
            opacity: 0.5;
        }
        
        .theme-toggle {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text);
            cursor: pointer;
            transition: all 0.5s;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(108, 92, 231, 0.1);
        }
        
        .theme-toggle:hover {
            transform: rotate(180deg) scale(1.1);
            background: rgba(108, 92, 231, 0.2);
        }
        
        /* Navigation Tabs */
        .tabs-container {
            position: relative;
            margin: 3rem 0;
            display: flex;
            justify-content: center;
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            position: relative;
            z-index: 10;
            background: rgba(108, 92, 231, 0.1);
            padding: 0.5rem;
            border-radius: 50px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .tab {
            padding: 1rem 2rem;
            background: transparent;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text);
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            z-index: 1;
        }
        
        .tab-highlight {
            position: absolute;
            top: 0.5rem;
            left: 0.5rem;
            height: calc(100% - 1rem);
            border-radius: 50px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            z-index: 0;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 5px 15px rgba(108, 92, 231, 0.3);
        }
        
        .tab.active {
            color: white;
        }
        
        .tab:not(.active) {
            opacity: 0.8;
        }
        
        .tab:hover:not(.active) {
            opacity: 1;
            transform: translateY(-3px);
        }
        
        /* Content Sections */
        .content-section {
            padding: 2rem;
            min-height: 60vh;
            position: relative;
            overflow: hidden;
            transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: none;
        }
        
        .content-section.active {
            display: block;
        }
        
        .section-title {
            font-size: 3rem;
            margin-bottom: 2rem;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-align: center;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .content-section.active .section-title {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Music Section */
        .music-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            position: relative;
            z-index: 5;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.2s;
        }
        
        .content-section.active .music-grid {
            opacity: 1;
            transform: translateY(0);
        }
        
        .music-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            overflow: hidden;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            position: relative;
            transform-style: preserve-3d;
        }
        
        .music-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(108, 92, 231, 0.1));
            opacity: 0;
            transition: all 0.5s;
        }
        
        .music-card:hover {
            transform: translateY(-10px) scale(1.03) rotateX(5deg) rotateY(5deg);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }
        
        .music-card:hover::before {
            opacity: 1;
        }
        
        .music-card img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            transition: all 0.5s;
        }
        
        .music-card-info {
            padding: 1.5rem;
        }
        
        .music-card-info h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }
        
        .music-card-info p {
            color: var(--secondary);
            font-size: 0.9rem;
        }
        
        /* Music Player Modal */
        .music-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
            overflow: auto; /* allow scrolling if needed */
        }
        
        .music-modal.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .music-modal-content {
            max-height: 90vh;      /* never taller than the viewport */
                overflow-y: auto;
                background: var(--bg);
                    width: 80%;
                        max-width: 800px;
                            border-radius: 20px;
                                overflow: hidden;
                                    transform: scale(0.8) translateY(50px);
                                        transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                                            position: relative;
                                                box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
                                                }
        }
        
        .music-modal.active .music-modal-content {
            transform: scale(1) translateY(0);
        }
        
        .music-modal-img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            transition: all 0.5s;
        }
        
        /* Audio Visualizer Styles */
        .visualizer-container {
            width: 100%;
            height: 100px;
            margin: 2rem 0;
            display: none;
        }
        
        #audioVisualizer {
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.1);
            border-radius: 10px;
        }
        
        .music-modal-info {
            padding: 2rem;
            text-align: center;
        }
        
        .music-modal-info h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }
        
        .music-modal-info p {
            color: var(--secondary);
            margin-bottom: 2rem;
        }
        
        .music-player {
            width: 100%;
            margin: 2rem 0;
        }
        
        .progress-container {
            width: 100%;
            height: 6px;
            background: rgba(108, 92, 231, 0.2);
            border-radius: 3px;
            margin-bottom: 1rem;
            cursor: pointer;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 3px;
            width: 0%;
            transition: width 0.1s;
        }
        
        .time-container {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--secondary);
            margin-bottom: 1.5rem;
        }
        
        .player-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .control-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .play-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.8rem;
            box-shadow: 0 10px 20px rgba(108, 92, 231, 0.3);
            transition: all 0.3s;
        }
        
        .play-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 30px rgba(108, 92, 231, 0.4);
        }
        
        .streaming-links {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
        }
        
        .streaming-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-decoration: none;
            color: var(--text);
            transition: all 0.3s;
        }
        
        .streaming-link i {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            transition: all 0.3s;
        }
        
        .streaming-link:hover {
            transform: translateY(-5px);
            color: var(--primary);
        }
        
        .streaming-link:hover i {
            transform: scale(1.2);
        }
        
        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text);
            cursor: pointer;
            transition: all 0.3s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(108, 92, 231, 0.1);
        }
        
        .close-modal:hover {
            transform: rotate(90deg);
            background: rgba(108, 92, 231, 0.2);
            color: var(--accent);
        }
        
        /* Photography Section */
        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.2s;
        }
        
        .content-section.active .photo-grid {
            opacity: 1;
            transform: translateY(0);
        }
        
        .social-card {
                                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
                                    border-radius: 20px;
                                        padding: 2rem;
                                            display: flex;
                                                flex-direction: column;
                                                    align-items: center;
                                                        justify-content: center;
                                                            text-align: center;
                                                                transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                                                                    cursor: pointer;
                                                                        position: relative;
                                                                            overflow: hidden;
                                                                                transform-style: preserve-3d;
                                                                                }
        }
        
        .photo-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(108, 92, 231, 0.1));
            opacity: 0;
            transition: all 0.5s;
        }
        
        .photo-card:hover {
            transform: scale(1.05) rotateX(5deg) rotateY(5deg);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }
        
        .photo-card:hover::before {
            opacity: 1;
        }
        
        .photo-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: all 0.5s;
        }
        
        /* New instagram ui */
        
        .instagram-photo-card {
    background: var(--light);
    border-radius: 16px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.06);
    max-width: 400px;
    margin: 2rem auto;
    border: 1px solid #dedede;
    font-family: 'Poppins', sans-serif;
    transition: background 0.3s, border-color 0.3s;
}
[data-theme="dark"] .instagram-style {
    background: var(--dark);
    border: 1px solid rgba(108,92,231,0.12);
}
.insta-header {
    display: flex;
    align-items: center;
    padding: 0.75rem 1rem 0.4rem 1rem;
    font-size: 0.98rem;
}
.insta-avatar {
    width: 32px; height: 32px; border-radius: 50%;
    margin-right: 0.7rem;
    border: 2px solid #fd79a8;
    object-fit: cover;
}
.insta-username {
    font-weight: 600;
    margin-right: 0.5rem;
    color: var(--text);
}
.insta-dot {
    margin: 0 0.4rem;
    color: #aaa;
}
.insta-date {
    color: #aaa;
    font-size: 0.93rem;
}
.insta-image-container {
    width: 100%; aspect-ratio: 1/1;
    background: #eee;
    display: flex; align-items: center; justify-content: center;
    overflow: hidden;
}
.insta-image {
    width: 100%; height: 100%; object-fit: cover;
    display: block;
}
.insta-actions {
    display: flex;
    align-items: center;
    padding: 0.65rem 1rem;
    gap: 1.1rem;
}
.insta-action {
    background: none;
    border: none;
    font-size: 1.45rem;
    color: #222;
    cursor: pointer;
    transition: color 0.2s;
    display: flex; align-items: center; justify-content: center;
}
[data-theme="dark"] .insta-action {
    color: #fafafa;
}
.insta-action.like-btn[data-liked="true"] i,
.insta-action.like-btn:active i {
    color: #e84393;
}
.insta-action.insta-link {
    color: #a29bfe;
    font-size: 1.45rem;
    margin-left: 0.4rem;
}
.insta-action.insta-link:hover {
    color: #fd79a8;
}
.insta-likes {
    font-weight: 500;
    padding: 0.18rem 1rem 0.18rem 1rem;
    font-size: 1rem;
    color: var(--text);
}
.like-count {
    font-weight: 600;
    margin-right: 0.2rem;
}
.insta-caption {
    padding: 0.1rem 1rem 1rem 1rem;
    font-size: 0.97rem;
    color: var(--text);
}
.caption-text {
    margin-left: 0.6rem;
    font-weight: 400;
    color: var(--secondary);
}
@media (max-width: 520px) {
    .instagram-photo-card { max-width: 100%; }
    .insta-header, .insta-actions, .insta-likes, .insta-caption { padding-left: 0.7rem; padding-right: 0.7rem; }
}
        
        /* 3D Gallery Styles */
        .gallery3d-container {
            width: 100%;
            height: 500px;
            position: relative;
            margin: 3rem 0;
            display: none;
        }
        
        #photoGallery3d {
            width: 100%;
            height: 100%;
            background: var(--bg);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }
        
        .gallery-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1rem;
            z-index: 100;
        }
        
        .gallery-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(108, 92, 231, 0.7);
            color: white;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .gallery-btn:hover {
            background: var(--accent);
            transform: scale(1.1);
        }
        
        /* Photo Modal */
        .photo-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: all 0.5s cubic-bezier(0.165, 0.84, 0.44, 1);
        }
        
        .photo-modal.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .photo-modal-content {
            max-width: 90%;
            max-height: 90%;
            transform: scale(0.8) translateY(50px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
        }
        
        .photo-modal.active .photo-modal-content {
            transform: scale(1) translateY(0);
        }
        
        .photo-modal-img {
            max-width: 100%;
            max-height: 80vh;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5);
        }
        
        .photo-modal-close {
            position: absolute;
            top: -40px;
            right: 0;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: white;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(108, 92, 231, 0.3);
            transition: all 0.3s;
        }
        
        .photo-modal-close:hover {
            transform: rotate(90deg);
            background: rgba(108, 92, 231, 0.5);
        }
        
        /* Social Media Section */
        .social-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 2rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.2s;
        }
        
        .content-section.active .social-grid {
            opacity: 1;
            transform: translateY(0);
        }
        
        .social-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
        }
        
        .social-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(108, 92, 231, 0.1));
            opacity: 0;
            transition: all 0.5s;
        }
        
        .social-card:hover {
            transform: translateY(-10px) scale(1.05) rotateX(5deg) rotateY(5deg);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
        }
        
        .social-card:hover::before {
            opacity: 1;
        }
        
        .social-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--primary);
            transition: all 0.5s;
        }
        
        .social-card:hover .social-icon {
            transform: scale(1.2);
        }
        
        .social-card h3 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }
        
        .social-card p {
            color: var(--secondary);
            font-size: 0.9rem;
        }
        
        /* Enhanced Contact Section */
        .contact-form {
            max-width: 600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.2s;
            position: relative;
            overflow: hidden;
        }
        
        .contact-form::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 20px;
            padding: 2px;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: borderRotate 10s linear infinite;
            z-index: -1;
        }
        
        @keyframes borderRotate {
            100% {
                transform: rotate(1turn);
            }
        }
        
        .content-section.active .contact-form {
            opacity: 1;
            transform: translateY(0);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .form-group:hover {
            transform: translateY(-3px);
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 1px solid rgba(108, 92, 231, 0.3);
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s;
        }
        
        .form-group textarea {
            min-height: 150px;
            resize: vertical;
        }
        
        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.2);
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(108, 92, 231, 0.3);
        }
        
        /* Location Map Styles */
        .location-map {
            margin: 2rem auto;
            width: 100%;
            max-width: 500px;
            height: 200px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }
        
        .map-pin {
            position: relative;
            font-size: 2rem;
            color: var(--accent);
        }
        
        .pulse-effect {
            position: absolute;
            width: 100px;
            height: 100px;
            background: var(--primary);
            border-radius: 50%;
            opacity: 0;
            transform: scale(0.1);
            animation: pulse 2s infinite;
            top: 50%;
            left: 50%;
            margin: -50px 0 0 -50px;
        }
        
        @keyframes pulse {
            0% { transform: scale(0.1); opacity: 0.5; }
            70% { transform: scale(1); opacity: 0; }
            100% { transform: scale(0.1); opacity: 0; }
        }
        
        /* Success Message Styles */
        .success-message {
            text-align: center;
            padding: 2rem;
        }
        
        .success-message i {
            font-size: 4rem;
            color: var(--primary);
            margin-bottom: 1rem;
            display: inline-block;
            animation: bounce 0.5s;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        /* Enhanced Feedback Section */
        .feedback-container {
            max-width: 800px;
            margin: 0 auto;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) 0.2s;
        }
        
        .content-section.active .feedback-container {
            opacity: 1;
            transform: translateY(0);
        }
        
        .feedback-form {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .rating-visualization {
            margin: 2rem 0;
            text-align: center;
        }
        
        .emoji-feedback {
            font-size: 4rem;
            margin-bottom: 1rem;
            transition: all 0.3s;
            display: inline-block;
            transform-origin: bottom center;
        }
        
        .rating {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .rating input {
            display: none;
        }
        
        .rating label {
            font-size: 2rem;
            color: var(--secondary);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .rating input:checked ~ label {
            color: var(--accent);
            transform: scale(1.3);
            animation: pulse 0.5s;
        }
        
        .rating label:hover,
        .rating label:hover ~ label {
            color: var(--accent);
            transform: scale(1.1);
        }
        
        .feedback-progress {
            margin: 2rem 0;
            text-align: center;
        }
        
        .progress-track {
            height: 6px;
            background: rgba(108, 92, 231, 0.2);
            border-radius: 3px;
            margin-bottom: 0.5rem;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            width: 0%;
            transition: width 0.5s;
        }
        
        /* Holographic Button Effect */
        .submit-btn {
            position: relative;
            overflow: hidden;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.5s;
            width: 100%;
            box-shadow: 0 10px 20px rgba(108, 92, 231, 0.3);
        }
        
        .submit-btn::after {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                rgba(255,255,255,0) 45%,
                rgba(255,255,255,0.8) 50%,
                rgba(255,255,255,0) 55%
            );
            transform: rotate(30deg);
            animation: holographic 3s infinite;
        }
        
        @keyframes holographic {
            0% { left: -100%; top: -100%; }
            100% { left: 100%; top: 100%; }
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(108, 92, 231, 0.4);
        }
        
        /* 3D Form Effect */
        .form-wrapper {
            transform-style: preserve-3d;
            transition: transform 0.5s;
        }
        
        .contact-form:hover .form-wrapper {
            transform: rotateY(5deg) rotateX(3deg);
        }
        
        /* Background Elements */
        .bg-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .bg-element {
            position: absolute;
            opacity: 0.1;
            transition: all 10s linear;
            filter: drop-shadow(0 0 5px rgba(108, 92, 231, 0.5));
        }
        
        .music-note {
            color: var(--primary);
            font-size: 2rem;
        }
        
        .camera {
            color: var(--accent);
            font-size: 2rem;
        }
        
        .social-icon-bg {
            color: var(--secondary);
            font-size: 2rem;
        }
        
        /* Animations */
        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-20px);
            }
        }
        
        @keyframes glow {
            0% {
                text-shadow: 0 0 10px var(--glow-color);
            }
            100% {
                text-shadow: 0 0 20px var(--glow-color), 0 0 30px var(--glow-color);
            }
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(1.05);
            }
        }
        
        @keyframes changeFont {
            0% {
                font-family: 'Poppins', sans-serif;
            }
            100% {
                font-family: var(--random-font);
            }
        }
        
        @keyframes rotate {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .tabs {
                flex-wrap: wrap;
            }
            
            .tab {
                padding: 0.8rem 1.5rem;
                font-size: 1rem;
            }
            
            .music-grid, .photo-grid, .social-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }
            
            .logo {
                font-size: 2rem;
            }
            
            .entry-title {
                font-size: 15vw;
            }
            
            .music-modal-content {
                width: 95%;
            }
            
            /* 3D Gallery adjustments */
            .gallery3d-container {
                height: 300px;
            }
            
            /* Visualizer adjustments */
            .visualizer-container {
                height: 80px;
            }
            
            /* Contact form adjustments */
            .contact-form {
                padding: 1.5rem;
            }
            
            .location-map {
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Entry Screen -->
    <div class="entry-screen" id="entryScreen">
        <h1 class="entry-title" id="entryTitle">MRIGANGKA</h1>
        <button class="enter-btn" id="enterBtn">ENTER SITE</button>
    </div>
    
    <!-- Main Content -->
    <div class="container">
        <!-- Background Elements -->
        <div class="bg-elements" id="bgElements"></div>
        
        <!-- Header -->
        <header>
            <h1 class="logo" id="logo">MRIGANGKA</h1>
            <button class="theme-toggle" id="themeToggle">
                <i class="fas fa-moon"></i>
            </button>
        </header>
        
        <!-- Navigation Tabs -->
        <div class="tabs-container">
            <div class="tabs" id="tabs">
                <div class="tab-highlight" id="tabHighlight"></div>
                <button class="tab active" data-tab="music">Music</button>
                <button class="tab" data-tab="photography">Photography</button>
                <button class="tab" data-tab="social">Social Media</button>
                <button class="tab" data-tab="contact">Contact</button>
                <button class="tab" data-tab="feedback">Feedback</button>
            </div>
        </div>
        
        <!-- Content Sections -->
        <div class="main-content" id="mainContent">
            <!-- Music Section -->
           <div class="content-section" id="music">
                <h2 class="section-title">My Music</h2>
                <div class="music-grid" id="musicGrid"></div>
            </div>
         </div>
            
            <!-- Photography Section -->
           <div class="content-section" id="photography">
                <h2 class="section-title">Some of My Photography Work </h2>
                <div class="photo-grid" id="photoGrid"></div>
                
                <!-- 3D Gallery Container -->
                <div class="gallery3d-container" id="gallery3dContainer">
                    <div id="photoGallery3d"></div>
                    <div class="gallery-controls">
                        <button class="gallery-btn" id="prevPhoto"><i class="fas fa-arrow-left"></i></button>
                        <button class="gallery-btn" id="nextPhoto"><i class="fas fa-arrow-right"></i></button>
                        <button class="gallery-btn" id="toggle3dView"><i class="fas fa-vector-square"></i></button>
                    </div>
                </div>
            </div>
              
            
            <!-- Social Media Section -->
            <div class="content-section" id="social">
                <h2 class="section-title">Connect With Me</h2>
                <div class="social-grid">
                    <a href="https://www.instagram.com/mrigangka__4621?igsh=NDQwbWE4ODY5aHFz" class="social-card" target="_blank">
                        <i class="fab fa-instagram social-icon"></i>
                        <h3>Instagram</h3>
                        <p>Follow for daily updates</p>
                    </a>
                    <a href="https://open.spotify.com/artist/3QORoO85w0YWJmT9mmdvdk?si=CxIoblgkSm29xMc_h015qA" class="social-card" target="_blank">
                        <i class="fab fa-spotify social-icon"></i>
                        <h3>Spotify</h3>
                        <p>Stream my music</p>
                    </a>
                    <a href="https://youtube.com/@mrigangka__4621?si=lOaMwm0Tt_Qctk96" class="social-card" target="_blank">
                        <i class="fab fa-youtube social-icon"></i>
                        <h3>YouTube</h3>
                        <p>Watch my videos</p>
                    </a>
                    <a href="https://error404.infy.uk" class="social-card" target="_blank">
                        <i class="fab fa-twitter social-icon"></i>
                        <h3>Twitter</h3>
                        <p>Join the conversation</p>
                    </a>
                    <a href="https://error404.infy.uk" class="social-card" target="_blank">
                        <i class="fab fa-facebook social-icon"></i>
                        <h3>Facebook</h3>
                        <p>Connect with me</p>
                    </a>
                    <a href="https://music.apple.com/us/artist/mrigangka-bordoloi/1798576347" class="social-card" target="_blank">
                        <i class="fab fa-apple social-icon"></i>
                        <h3>Apple Music</h3>
                        <p>Listen on Apple</p>
                    </a>
                </div>
            </div>
            
            <!-- Enhanced Contact Section -->
            <div class="content-section" id="contact">
                <h2 class="section-title">Get In Touch</h2>
                
                <div class="location-map">
                    <div class="map-pin">
                        <div class="pulse-effect"></div>
                        <i class="fas fa-map-marker-alt"></i>
                    </div>
                </div>
                
                <div class="contact-form">
                    <div class="form-wrapper">
                        <p>Have a project in mind or want to collaborate? Send me a message!</p>
                        <form id="contactForm" action="https://formspree.io/f/xwpqloqr" method="POST">
                            <div class="form-group">
                                <label for="name">Your Name</label>
                                <input type="text" id="name" name="name" required>
                            </div>
                            <div class="form-group">
                                <label for="email">Your Email</label>
                                <input type="email" id="email" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="message">Your Message</label>
                                <textarea id="message" name="message" required></textarea>
                            </div>
                            <button type="submit" class="submit-btn">Send Message</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <!-- Enhanced Feedback Section -->
            <div class="content-section" id="feedback">
                <h2 class="section-title">Your Feedback</h2>
                <div class="feedback-container">
                    <div class="feedback-form">
                        <p>I'd love to hear what you think about my work!</p>
                        
                        <div class="rating-visualization">
                            <div class="emoji-feedback" id="emojiFeedback">üòê</div>
                        </div>
                        
                        <div class="feedback-progress">
                            <div class="progress-track">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <div class="progress-text" id="progressText">0% completed</div>
                        </div>
                        
                        <form id="feedbackForm">
                            <div class="rating">
                                <input type="radio" id="star5" name="rating" value="5">
                                <label for="star5">‚òÖ</label>
                                <input type="radio" id="star4" name="rating" value="4">
                                <label for="star4">‚òÖ</label>
                                <input type="radio" id="star3" name="rating" value="3">
                                <label for="star3">‚òÖ</label>
                                <input type="radio" id="star2" name="rating" value="2">
                                <label for="star2">‚òÖ</label>
                                <input type="radio" id="star1" name="rating" value="1">
                                <label for="star1">‚òÖ</label>
                            </div>
                            <div class="form-group">
                                <label for="feedback">Your Feedback</label>
                                <textarea id="feedback" name="feedback" required></textarea>
                            </div>
                            <button type="submit" class="submit-btn">Submit Feedback</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Music Modal with Visualizer -->
   <div class="music-modal" id="musicModal">
        <div class="music-modal-content">
            <button class="close-modal" id="closeMusicModal">
                <i class="fas fa-times"></i>
            </button>
            <img src="" alt="Song Cover" class="music-modal-img" id="musicModalImg">
            <div class="music-modal-info">
                <h2 id="songTitle">Song Title</h2>
                <p id="songInfo">Single ‚Ä¢ 2025 ‚Ä¢ 3:45</p>
                <div class="visualizer-container" id="visualizerContainer">
                    <canvas id="audioVisualizer"></canvas>
                </div>
                <div class="music-player">
                    <div class="progress-container" id="progressContainer">
                        <div class="progress" id="progress"></div>
                    </div>
                    <div class="time-container">
                        <span id="currentTime">0:00</span>
                        <span id="duration">0:00</span>
                    </div>
                    <div class="player-controls">
                        <button class="control-btn" id="prevBtn">
                            <i class="fas fa-step-backward"></i>
                        </button>
                        <button class="play-btn" id="playBtn">
                            <i class="fas fa-play" id="playIcon"></i>
                        </button>
                        <button class="control-btn" id="nextBtn">
                            <i class="fas fa-step-forward"></i>
                        </button>
                    </div>
                </div>
                <div class="streaming-links">
                    <a href="#" class="streaming-link" target="_blank" id="spotifyLink">
                        <i class="fab fa-spotify"></i>
                        <span>Spotify</span>
                    </a>
                    <a href="#" class="streaming-link" target="_blank" id="youtubeLink">
                        <i class="fab fa-youtube"></i>
                        <span>YouTube</span>
                    </a>
                    <a href="#" class="streaming-link" target="_blank" id="appleLink">
                        <i class="fab fa-apple"></i>
                        <span>Apple Music</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Photo Modal -->
    <div class="photo-modal" id="photoModal">
        <div class="photo-modal-content">
            <button class="photo-modal-close" id="closePhotoModal">
                <i class="fas fa-times"></i>
            </button>
            <img src="" alt="Photography Work" class="photo-modal-img" id="photoModalImg">
        </div>
    </div>
    
    <!-- Audio Elements (hidden) -->
     <audio id="audioPlayer"></audio>

 <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script>

      // ----------- SUPABASE CLIENT SETUP FIRST -----------
    const supabaseUrl = 'https://mowsxolllinofviuevof.supabase.co';
    const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1vd3N4b2xsbGlub2Z2aXVldm9mIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0MzQ4MDcsImV4cCI6MjA3NDAxMDgwN30.g48BnaAtshgB3V-ay9W3Er2Un4CZ_qIC468jxP9MzRQ';
    const supabase = supabase.createClient(supabaseUrl, supabaseKey);

        // Entry Animation
        const entryScreen = document.getElementById('entryScreen');
        const entryTitle = document.getElementById('entryTitle');
        const enterBtn = document.getElementById('enterBtn');
        const mainContent = document.getElementById('mainContent');
        
        // Array of branded fonts
        const brandedFonts = [
            "'Montserrat', sans-serif",
            "'Playfair Display', serif",
            "'Raleway', sans-serif",
            "'Lato', sans-serif",
            "'Roboto', sans-serif",
            "'Open Sans', sans-serif",
            "'Poppins', sans-serif",
            "'Oswald', sans-serif",
            "'Source Sans Pro', sans-serif",
            "'Merriweather', serif",
            "'Nunito', sans-serif",
            "'Rubik', sans-serif",
            "'Quicksand', sans-serif",
            "'Fira Sans', sans-serif",
            "'Exo', sans-serif",
            "'Ubuntu', sans-serif",
            "'Josefin Sans', sans-serif",
            "'Varela Round', sans-serif",
            "'Bebas Neue', cursive",
            "'Abril Fatface', cursive"
        ];
        
        // Change font on title click
        entryTitle.addEventListener('click', () => {
            const randomFont = brandedFonts[Math.floor(Math.random() * brandedFonts.length)];
            entryTitle.style.fontFamily = randomFont;
            entryTitle.style.animation = 'glow 1.5s infinite alternate';
            setTimeout(() => {
                entryTitle.style.animation = '';
            }, 1500);
        });
        
        // Enter site
        enterBtn.addEventListener('click', () => {
            entryScreen.classList.add('hidden');
            setTimeout(() => {
                mainContent.classList.add('visible');
                document.getElementById('music').classList.add('active');
                createBackgroundElements('music');
                updateTabHighlight();
            }, 1000);
        });
        
        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        
        themeToggle.addEventListener('click', () => {
            body.setAttribute('data-theme', 
                body.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
            
            themeToggle.innerHTML = body.getAttribute('data-theme') === 'dark' ? 
                '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
        });
        
        // Tab Navigation with Highlight
        const tabs = document.querySelectorAll('.tab');
        const tabHighlight = document.getElementById('tabHighlight');
        const contentSections = document.querySelectorAll('.content-section');
        
        function updateTabHighlight() {
            const activeTab = document.querySelector('.tab.active');
            if (activeTab) {
                tabHighlight.style.width = `${activeTab.offsetWidth}px`;
                tabHighlight.style.left = `${activeTab.offsetLeft}px`;
            }
        }
        
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // Remove active class from all tabs and sections
                tabs.forEach(t => t.classList.remove('active'));
                contentSections.forEach(section => {
                    section.classList.remove('active');
                    section.style.display = 'none';
                });
                
                // Add active class to clicked tab
                tab.classList.add('active');
                
                // Show the selected content section
                const tabId = tab.getAttribute('data-tab');
                const activeSection = document.getElementById(tabId);
                activeSection.style.display = 'block';
                setTimeout(() => {
                    activeSection.classList.add('active');
                }, 10);
                
                // Update tab highlight position
                updateTabHighlight();
                
                // Change background elements based on tab
                createBackgroundElements(tabId);
                
                // Initialize features based on tab
                if(tabId === 'music') {
                    setTimeout(initVisualizer, 500);
                } else if(tabId === 'photography') {
                    setTimeout(init3dGallery, 500);
                }
            });
        });
        
        
        // Music Player Functionality
        const audioPlayer = document.getElementById('audioPlayer');
        const playBtn = document.getElementById('playBtn');
        const playIcon = document.getElementById('playIcon');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const progress = document.getElementById('progress');
        const progressContainer = document.getElementById('progressContainer');
        const currentTimeEl = document.getElementById('currentTime');
        const durationEl = document.getElementById('duration');
        const songTitle = document.getElementById('songTitle');
        const songInfo = document.getElementById('songInfo');
        const musicModalImg = document.getElementById('musicModalImg');
        
        let visualizerFrameId = null; // Add near your visualizer variables
        let isPlaying = false;
        let currentSong = null;
        let songQueue = ['supreme', 'xopun', 'heer', 'raang'];
        let currentSongIndex = 0;
        
        
        
        // Play song function
        function playSong() {
            isPlaying = true;
            playIcon.classList.remove('fa-play');
            playIcon.classList.add('fa-pause');
            audioPlayer.play();
            updateProgress();
        }
        
        // Pause song function
        function pauseSong() {
            isPlaying = false;
            playIcon.classList.remove('fa-pause');
            playIcon.classList.add('fa-play');
            audioPlayer.pause();
            clearInterval(progressInterval);
        }
        
        audioPlayer.addEventListener('play', () => {
    if (!visualizerFrameId) animateVisualizer();
});
audioPlayer.addEventListener('pause', () => {
    if (visualizerFrameId) {
        cancelAnimationFrame(visualizerFrameId);
        visualizerFrameId = null;
        // Draw zero bars
        drawVisualizer(new Uint8Array(dataArray.length));
    }
});
audioPlayer.addEventListener('ended', () => {
    if (visualizerFrameId) {
        cancelAnimationFrame(visualizerFrameId);
        visualizerFrameId = null;
        drawVisualizer(new Uint8Array(dataArray.length));
    }
});
        
        // Update progress bar
        let progressInterval;
        function updateProgress() {
            clearInterval(progressInterval);
            
            progressInterval = setInterval(() => {
                const { duration, currentTime } = audioPlayer;
                const progressPercent = (currentTime / duration) * 100;
                progress.style.width = `${progressPercent}%`;
                
                // Update time display
                currentTimeEl.textContent = formatTime(currentTime);
                
                // Check if song ended
                if (currentTime >= duration) {
                    nextSong();
                }
            }, 1000);
        }
        
        // Format time in minutes:seconds
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' + secs : secs}`;
        }
        
        // Set progress on click
        progressContainer.addEventListener('click', (e) => {
            const width = progressContainer.clientWidth;
            const clickX = e.offsetX;
            const duration = audioPlayer.duration;
            audioPlayer.currentTime = (clickX / width) * duration;
        });
        
        // Play/Pause button
        playBtn.addEventListener('click', () => {
            isPlaying ? pauseSong() : playSong();
        });
        
        // Previous song
        prevBtn.addEventListener('click', prevSong);
        
        function prevSong() {
            currentSongIndex--;
            if (currentSongIndex < 0) {
                currentSongIndex = songQueue.length - 1;
            }
            loadSong(songQueue[currentSongIndex]);
        }
        
        // Next song
        nextBtn.addEventListener('click', nextSong);
        
        function nextSong() {
            currentSongIndex++;
            if (currentSongIndex > songQueue.length - 1) {
                currentSongIndex = 0;
            }
            loadSong(songQueue[currentSongIndex]);
        }
        
        // Audio Visualizer Implementation
        const visualizerContainer = document.getElementById('visualizerContainer');
        const audioVisualizer = document.getElementById('audioVisualizer');
        let audioContext, analyser, dataArray, canvasCtx;
        
        function initVisualizer() {
            visualizerContainer.style.display = 'block';
            
            // Set up canvas
            canvasCtx = audioVisualizer.getContext('2d');
            audioVisualizer.width = visualizerContainer.offsetWidth;
            audioVisualizer.height = visualizerContainer.offsetHeight;
            
            // Create audio context if not already created
            if (!audioContext) {
                audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // Create analyser
                analyser = audioContext.createAnalyser();
                analyser.fftSize = 256;
                
                const source = audioContext.createMediaElementSource(audioPlayer);
                source.connect(analyser);
                analyser.connect(audioContext.destination);
                
                dataArray = new Uint8Array(analyser.frequencyBinCount);
            }
            drawVisualizer(new Uint8Array(dataArray.length)); // Start with blank bars
            }
        function getCssVar(name) {
    return getComputedStyle(document.body).getPropertyValue(name).trim();
}

// Draw bars, accepts optional data array
function drawVisualizer(barData) {
    if (!barData && !dataArray) {
    console.warn('drawVisualizer called before dataArray is initialized');
    return;
}
    if (!barData) {
    if (typeof dataArray === 'undefined') return;
        analyser.getByteFrequencyData(dataArray);
        barData = dataArray;
    }
    if (!barData || typeof barData.length === 'undefined') return; // <- Safeguard
    canvasCtx.clearRect(0, 0, audioVisualizer.width, audioVisualizer.height);
    const barWidth = (audioVisualizer.width / barData.length) * 2.5;
    let x = 0;
    const primaryColor = getCssVar('--primary');
    const accentColor = getCssVar('--accent');
    for(let i = 0; i < barData.length; i++) {
        const barHeight = barData[i] / 2;
        const gradient = canvasCtx.createLinearGradient(0, 0, 0, audioVisualizer.height);
        gradient.addColorStop(0, primaryColor);
        gradient.addColorStop(1, accentColor);
        canvasCtx.fillStyle = gradient;
        canvasCtx.fillRect(
            x, 
            audioVisualizer.height - barHeight, 
            barWidth, 
            barHeight
        );
        x += barWidth + 1;
    }
}

// Animation loop
function animateVisualizer() {
    visualizerFrameId = requestAnimationFrame(animateVisualizer);
    drawVisualizer();
}
        
        /* 3D Gallery Implementation */
        const gallery3dContainer = document.getElementById('gallery3dContainer');
        const photoGallery3d = document.getElementById('photoGallery3d');
        const photos = [
            'IMG_20250724_173417 (2).jpg',
            'IMG_20250724_173417 (2).jpg',
            'IMG_20250724_173417 (2).jpg',
            'IMG_20250724_173417 (2).jpg'
        ];
        let currentPhotoIndex = 0;
        let is3dMode = false;
        
        function init3dGallery() {
            gallery3dContainer.style.display = 'block';
            updateGalleryPhoto();
            
            // Event listeners for controls
            document.getElementById('prevPhoto').addEventListener('click', () => {
                currentPhotoIndex = (currentPhotoIndex - 1 + photos.length) % photos.length;
                updateGalleryPhoto();
            });
            
            document.getElementById('nextPhoto').addEventListener('click', () => {
                currentPhotoIndex = (currentPhotoIndex + 1) % photos.length;
                updateGalleryPhoto();
            });
            
            document.getElementById('toggle3dView').addEventListener('click', toggle3dView);
        }
        
        function updateGalleryPhoto() {
            photoGallery3d.style.backgroundImage = `url(${photos[currentPhotoIndex]})`;
            photoGallery3d.style.backgroundSize = 'cover';
            photoGallery3d.style.backgroundPosition = 'center';
            photoGallery3d.style.transition = 'transform 0.5s ease';
            
            if(is3dMode) {
                apply3dEffect();
            }
        }
        
        function toggle3dView() {
            is3dMode = !is3dMode;
            if(is3dMode) {
                apply3dEffect();
                document.getElementById('toggle3dView').innerHTML = '<i class="fas fa-expand"></i>';
            } else {
                photoGallery3d.style.transform = 'none';
                document.getElementById('toggle3dView').innerHTML = '<i class="fas fa-vector-square"></i>';
            }
        }
        
        function apply3dEffect() {
            const perspective = 1000;
            const angle = 15;
            photoGallery3d.style.transform = `
                perspective(${perspective}px)
                rotateY(${angle}deg)
                rotateX(${-angle}deg)
                scale3d(1.1, 1.1, 1.1)
            `;
            photoGallery3d.style.boxShadow = '20px 20px 50px rgba(0,0,0,0.5)';
        }
        
        // Photo Card Click
        const photoCards = document.querySelectorAll('.photo-card');
        const photoModal = document.getElementById('photoModal');
        const photoModalImg = document.getElementById('photoModalImg');
        const closePhotoModal = document.getElementById('closePhotoModal');
        
        photoCards.forEach(card => {
            card.addEventListener('click', () => {
                const imgSrc = card.querySelector('img').src;
                photoModalImg.src = imgSrc;
                photoModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        });
        
        closePhotoModal.addEventListener('click', () => {
            photoModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        });
        
        /* Enhanced Contact Form Submission */
        document.getElementById('contactForm').addEventListener('submit', async function(e) {
    e.preventDefault();
    const form = this;
    const data = new FormData(form);

    const response = await fetch(form.action, {
        method: "POST",
        body: data,
        headers: {
            'Accept': 'application/json'
        }
    });

    if (response.ok) {
        form.innerHTML = `
            <div class="success-message">
                <i class="fas fa-check-circle"></i>
                <h3>Message Sent!</h3>
                <p>I'll get back to you soon</p>
            </div>
        `;
    } else {
        form.innerHTML = `
            <div class="success-message">
                <i class="fas fa-times-circle"></i>
                <h3>Something went wrong!</h3>
                <p>Please try again later or contact me directly.</p>
            </div>
        `;
    }
});
        
        /* Enhanced Feedback Form Functionality */
        const ratingInputs = document.querySelectorAll('.rating input');
        const emojiFeedback = document.getElementById('emojiFeedback');
        const feedbackTextarea = document.getElementById('feedback');
        const progressFill = document.getElementById('progressFill');
        const progressText = document.getElementById('progressText');
        
        // Emoji feedback based on rating
        ratingInputs.forEach(input => {
            input.addEventListener('change', function() {
                const emojis = ['üò†', 'üòû', 'üòê', 'üòä', 'üòç'];
                emojiFeedback.textContent = emojis[this.value-1];
                emojiFeedback.style.animation = 'bounce 0.5s';
                setTimeout(() => {
                    emojiFeedback.style.animation = '';
                }, 500);
                updateFeedbackProgress();
            });
        });
        
        // Feedback text progress
        feedbackTextarea.addEventListener('input', updateFeedbackProgress);
        
        function updateFeedbackProgress() {
    const rating = document.querySelector('input[name="rating"]:checked') ? 1 : 0;
    let feedback = 0;
    if (feedbackTextarea && typeof feedbackTextarea.value === 'string') {
        feedback = feedbackTextarea.value.length > 10 ? 1 : 0;
    }
    const progress = ((rating + feedback) / 2) * 100;
    progressFill.style.width = `${progress}%`;
    progressText.textContent = `${progress}% completed`;
}
        
        // Feedback form submission
        document.getElementById('feedbackForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Add submission animation
            this.style.transform = "scale(0.95)";
            this.style.opacity = "0.5";
            
            setTimeout(() => {
                this.innerHTML = `
                    <div class="success-message">
                        <i class="fas fa-heart"></i>
                        <h3>Thank You!</h3>
                        <p>Your feedback means the world to me</p>
                    </div>
                `;
                this.style.transform = "scale(1)";
                this.style.opacity = "1";
            }, 300);
        });
        
        // Background Elements
        const bgElements = document.getElementById('bgElements');
        
        function createBackgroundElements(type) {
            // Clear existing elements
            bgElements.innerHTML = '';
            
            // Create new elements based on active tab
            let elements = [];
            let elementCount = window.innerWidth < 768 ? 10 : 20;
            
            if (type === 'music') {
                for (let i = 0; i < elementCount; i++) {
                    elements.push(createMusicNote());
                }
            } else if (type === 'photography') {
                for (let i = 0; i < elementCount; i++) {
                    elements.push(createCamera());
                }
            } else if (type === 'social') {
                for (let i = 0; i < elementCount; i++) {
                    elements.push(createSocialIcon());
                }
            }
            
            // Add elements to background
            elements.forEach(el => {
                bgElements.appendChild(el);
                animateElement(el);
            });
        }
        
        function createMusicNote() {
            const note = document.createElement('div');
            note.className = 'bg-element music-note';
            note.innerHTML = '<i class="fas fa-music"></i>';
            
            // Random position
            const left = Math.random() * 100;
            const top = Math.random() * 100;
            
            note.style.left = `${left}%`;
            note.style.top = `${top}%`;
            
            // Random size
            const size = 1 + Math.random() * 3;
            note.style.fontSize = `${size}rem`;
            
            // Random opacity
            const opacity = 0.1 + Math.random() * 0.3;
            note.style.opacity = opacity;
            
            return note;
        }
        
        function createCamera() {
            const camera = document.createElement('div');
            camera.className = 'bg-element camera';
            camera.innerHTML = '<i class="fas fa-camera"></i>';
            
            // Random position
            const left = Math.random() * 100;
            const top = Math.random() * 100;
            
            camera.style.left = `${left}%`;
            camera.style.top = `${top}%`;
            
            // Random size
            const size = 1 + Math.random() * 3;
            camera.style.fontSize = `${size}rem`;
            
            // Random opacity
            const opacity = 0.1 + Math.random() * 0.3;
            camera.style.opacity = opacity;
            
            return camera;
        }
        
        function createSocialIcon() {
            const icons = [
                'fab fa-instagram',
                'fab fa-facebook',
                'fab fa-twitter',
                'fab fa-youtube',
                'fab fa-spotify',
                'fab fa-apple',
                'fab fa-soundcloud',
                'fab fa-tiktok'
            ];
            
            const social = document.createElement('div');
            social.className = 'bg-element social-icon-bg';
            
            const randomIcon = icons[Math.floor(Math.random() * icons.length)];
            social.innerHTML = `<i class="${randomIcon}"></i>`;
            
            // Random position
            const left = Math.random() * 100;
            const top = Math.random() * 100;
            
            social.style.left = `${left}%`;
            social.style.top = `${top}%`;
            
            // Random size
            const size = 1 + Math.random() * 3;
            social.style.fontSize = `${size}rem`;
            
            // Random opacity
            const opacity = 0.1 + Math.random() * 0.3;
            social.style.opacity = opacity;
            
            return social;
        }
        
        function animateElement(el) {
            // Random animation duration
            const duration = 10 + Math.random() * 20;
            
            // Random starting position
            const startX = Math.random() * 100;
            const startY = Math.random() * 100;
            
            // Random movement path
            const pathX = (Math.random() - 0.5) * 40;
            const pathY = (Math.random() - 0.5) * 40;
            
            // Set initial position
            el.style.left = `${startX}%`;
            el.style.top = `${startY}%`;
            
            // Animate
            const keyframes = [
                { 
                    transform: `translate(0, 0) rotate(0deg)`,
                    left: `${startX}%`,
                    top: `${startY}%`
                },
                { 
                    transform: `translate(0, 0) rotate(360deg)`,
                    left: `${startX + pathX}%`,
                    top: `${startY + pathY}%`
                }
            ];
            
            const options = {
                duration: duration * 1000,
                iterations: Infinity,
                direction: 'alternate',
                easing: 'ease-in-out'
            };
            
            el.animate(keyframes, options);
        }
        
        // Logo font change on click
        const logo = document.getElementById('logo');
        
        logo.addEventListener('click', () => {
            const randomFont = brandedFonts[Math.floor(Math.random() * brandedFonts.length)];
            logo.style.fontFamily = randomFont;
            logo.style.animation = 'glow 1.5s infinite alternate';
            setTimeout(() => {
                logo.style.animation = '';
            }, 1500);
        });
        
        // Initialize
        window.addEventListener('load', () => {
            // Set initial tab highlight position
            setTimeout(updateTabHighlight, 100);
            
            // Add floating animation to entry title
            entryTitle.style.animation = 'float 6s ease-in-out infinite';
            
            // Initialize feedback progress
            updateFeedbackProgress();
        });
        
        document.querySelectorAll('.instagram-photo-card').forEach(card => {
    const likeBtn = card.querySelector('.like-btn');
    const likeCount = card.querySelector('.like-count');
    const shareBtn = card.querySelector('.share-btn');
    let liked = likeBtn.getAttribute('data-liked') === "true";

    // Like button logic
    likeBtn.addEventListener('click', function() {
        liked = !liked;
        likeBtn.setAttribute('data-liked', liked ? "true" : "false");
        likeBtn.querySelector('i').className = liked ? "fas fa-heart" : "far fa-heart";
        let count = parseInt(likeCount.textContent, 10);
        likeCount.textContent = liked ? count + 1 : Math.max(0, count - 1);
    });

    // Share button logic (copies URL)
    shareBtn.addEventListener('click', function() {
        const url = window.location.href;
        navigator.clipboard.writeText(url).then(() => {
            shareBtn.querySelector('i').style.color = "#44bd32";
            setTimeout(() => shareBtn.querySelector('i').style.color = "", 900);
        });
    });

    // Theme-based color update (optional: dynamic changes)
    function updateColors() {
        const theme = document.body.getAttribute('data-theme');
        card.querySelectorAll('.insta-action').forEach(btn => {
            if (theme === 'dark') {
                btn.style.color = "#fafafa";
            } else {
                btn.style.color = "#222";
            }
        });
    }
    updateColors();
    if (document.getElementById('themeToggle'))
        document.getElementById('themeToggle').addEventListener('click', updateColors);
});
     
     // Supabase config

 
    // Dynamic music loader
    async function fetchAndRenderSongs() {
      const { data: songs, error } = await supabase.from('songs').select('*').order('year', {ascending:false});
      const grid = document.getElementById('musicGrid');
      grid.innerHTML = '';
      if (error) {
        grid.innerHTML = "<p>Failed to load songs.</p>";
        return;
      }
      songs.forEach(song => {
        const card = document.createElement('div');
        card.className = 'music-card';
        card.innerHTML = `
          <img src="${song.cover_url}" alt="Song Cover">
          <div class="music-card-info">
            <h3>${song.title}</h3>
            <p>${song.album ? song.album : 'Single'} ‚Ä¢ ${song.year}</p>
          </div>
        `;
        card.addEventListener('click', () => openMusicModal(song));
        grid.appendChild(card);
      });
    }
    // Modal logic for music
    function openMusicModal(song) {
      document.getElementById('musicModalImg').src = song.cover_url;
      document.getElementById('songTitle').textContent = song.title;
      document.getElementById('songInfo').textContent = `${song.album ? song.album : 'Single'} ‚Ä¢ ${song.year}`;
      const audio = document.getElementById('audioPlayer');
      audio.src = song.audio_url;
      document.getElementById('spotifyLink').href = song.spotify ? song.spotify : "#";
      document.getElementById('youtubeLink').href = song.youtube ? song.youtube : "#";
      document.getElementById('appleLink').href = song.apple ? song.apple : "#";
      document.getElementById('musicModal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    document.getElementById('closeMusicModal').onclick = () => {
      document.getElementById('musicModal').classList.remove('active');
      document.body.style.overflow = '';
    };

    // Dynamic photo loader
    async function fetchAndRenderPhotos() {
      const { data: photos, error } = await supabase.from('photos').select('*').order('date', {ascending:false});
      const grid = document.getElementById('photoGrid');
      grid.innerHTML = '';
      if (error) {
        grid.innerHTML = "<p>Failed to load photos.</p>";
        return;
      }
      photos.forEach(photo => {
        const card = document.createElement('div');
        card.className = 'instagram-photo-card';
        card.innerHTML = `
          <div class="insta-header">
            <img class="insta-avatar" src="Profile.jpg" alt="Avatar">
            <span class="insta-username">mrigangka__4621</span>
            <span class="insta-dot">‚Ä¢</span>
            <span class="insta-date">${photo.date}</span>
          </div>
          <div class="insta-image-container">
            <img src="${photo.image_url}" alt="Photography Work" class="insta-image">
          </div>
          <div class="insta-actions">
            <button class="insta-action like-btn" data-liked="false"><i class="far fa-heart"></i></button>
            <button class="insta-action share-btn" title="Share"><i class="far fa-paper-plane"></i></button>
          </div>
          <div class="insta-likes">
            <span class="like-count">${photo.likes ? photo.likes : 0}</span> likes
          </div>
          <div class="insta-caption">
            <span class="insta-username">mrigangka__4621</span>
            <span class="caption-text">${photo.caption}</span>
          </div>
        `;
        card.querySelector('.insta-image').onclick = () => openPhotoModal(photo);
        grid.appendChild(card);
      });
    }
    // Modal logic for photos
    function openPhotoModal(photo) {
      document.getElementById('photoModalImg').src = photo.image_url;
      document.getElementById('photoModal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    document.getElementById('closePhotoModal').onclick = () => {
      document.getElementById('photoModal').classList.remove('active');
      document.body.style.overflow = '';
    };

    // On page load
    window.addEventListener('DOMContentLoaded', () => {
      fetchAndRenderSongs();
      fetchAndRenderPhotos();
      document.getElementById('music').style.display = '';
      document.getElementById('photography').style.display = 'none';
    });
    </script>
    
</body>
</html>
